<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Docs for page cb_database.php</title>
	<link rel="stylesheet" type="text/css" id="layout" href="../media/layout.css">
	<link rel="stylesheet" type="text/css" href="../media/style.css">
</head>

<body>
<div id="header">
	<div id="navLinks">
		[ <a href="../classtrees_cb_common.html">Class Tree: cb_common</a> ]
		[ <a href="../elementindex_cb_common.html">Index: cb_common</a> ]
		[ <a href="../elementindex.html">All elements</a> ]
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">cb_common</div>
		<div id="packageTitle">cb_common</div>
		<div id="elementPath"> &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="ric">
					<p><a href="../ric_INSTALL.html">INSTALL</a></p>
					<p><a href="../ric_ChangeLog.html">ChangeLog</a></p>
					<p><a href="../ric_README.html">README</a></p>
			</div>
	<div id="todolist">
			<p><a href="../todolist.html">Todo List</a></p>
	</div>
	<div id="packages">
		Packages:
					<p><a href="../li_cb_common.html">cb_common</a></p>
					<p><a href="../li_Mail.html">Mail</a></p>
					<p><a href="../li_php_beautify.html">php_beautify</a></p>
			</div>

				<div id="index">
			<div id="files">
								Files:<br>
								<a href="../cb_common/_common_cb_array_php.html">		cb_array.php
		</a><br>
			<a href="../cb_common/_common_cb_common_php.html">		cb_common.php
		</a><br>
			<a href="../cb_common/_common_cb_common_alt_php.html">		cb_common_alt.php
		</a><br>
			<a href="../cb_common/_common_cb_database_php.html">		cb_database.php
		</a><br>
			<a href="../cb_common/_common_cb_date_time_php.html">		cb_date_time.php
		</a><br>
			<a href="../cb_common/_common_cb_db_table_to_class_php.html">		cb_db_table_to_class.php
		</a><br>
			<a href="../cb_common/_common_cb_dir_file_php.html">		cb_dir_file.php
		</a><br>
			<a href="../cb_common/_common_cb_email_php.html">		cb_email.php
		</a><br>
			<a href="../cb_common/_common_cb_examples_php.html">		cb_examples.php
		</a><br>
			<a href="../cb_common/_common_cb_html_php.html">		cb_html.php
		</a><br>
			<a href="../cb_common/_common_cb_javascript_php.html">		cb_javascript.php
		</a><br>
			<a href="../cb_common/_common_cb_math_php.html">		cb_math.php
		</a><br>
			<a href="../cb_common/_common_cb_string_php.html">		cb_string.php
		</a><br>
			<a href="../cb_common/_common_cb_validation_php.html">		cb_validation.php
		</a><br>
			<a href="../cb_common/_common_class_CB_Block_Admin_php.html">		class.CB_Block_Admin.php
		</a><br>
			<a href="../cb_common/_common_class_DB_Pager_example_php.html">		class.DB_Pager.example.php
		</a><br>
			<a href="../cb_common/_common_class_DB_Pager_php.html">		class.DB_Pager.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_comprehensive_comprehensive_php.html">		comprehensive.php
		</a><br>
			<a href="../cb_common/_common_debug_msg_php.html">		debug_msg.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_example_1_php.html">		example.1.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_example_2_php.html">		example.2.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_example_3_php.html">		example.3.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_example_4_php.html">		example.4.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_example_5_php.html">		example.5.php
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_htmlMimeMail_php.html">		htmlMimeMail.php
		</a><br>
			<a href="../cb_common/_common_index_php.html">		index.php
		</a><br>
			<a href="../cb_common/_common_beautify_PEAR_php.html">		PEAR.php
		</a><br>
			<a href="../cb_common/_common_phpinfo_php.html">		phpinfo.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_extensions_phpMyEdit-messages_class_php.html">		phpMyEdit-messages.class.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_extensions_phpMyEdit-report_class_php.html">		phpMyEdit-report.class.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_extensions_phpMyEdit-slide_class_php.html">		phpMyEdit-slide.class.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_phpMyEdit_class_php.html">		phpMyEdit.class.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_phpMyEditSetup_php.html">		phpMyEditSetup.php
		</a><br>
			<a href="../cb_common/_common_phpws_modules_php.html">		phpws_modules.php
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_DE_inc.html">		PME.lang.DE.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_EN-US_inc.html">		PME.lang.EN-US.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_EN_inc.html">		PME.lang.EN.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_FR_inc.html">		PME.lang.FR.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_IT_inc.html">		PME.lang.IT.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_NL_inc.html">		PME.lang.NL.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_PG_inc.html">		PME.lang.PG.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_PL_inc.html">		PME.lang.PL.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_SK_inc.html">		PME.lang.SK.inc
		</a><br>
			<a href="../cb_common/_common_phpMyEdit_lang_PME_lang_SP_inc.html">		PME.lang.SP.inc
		</a><br>
			<a href="../cb_common/_common_htmlMimeMail_smtp_php.html">		smtp.php
		</a><br>
				</div>
			<div id="classes">
				Classes:<br>
								<a href="../cb_common/CB_Block_Admin.html">		CB_Block_Admin
		</a><br>
			<a href="../cb_common/DB_Pager.html">		DB_Pager
		</a><br>
			<a href="../cb_common/htmlMimeMail.html">		htmlMimeMail
		</a><br>
			<a href="../cb_common/PEAR.html">		PEAR
		</a><br>
			<a href="../cb_common/PEAR_Error.html">		PEAR_Error
		</a><br>
			<a href="../cb_common/phpMyEdit.html">		phpMyEdit
		</a><br>
			<a href="../cb_common/phpMyEdit_messages.html">		phpMyEdit_messages
		</a><br>
			<a href="../cb_common/phpMyEdit_report.html">		phpMyEdit_report
		</a><br>
			<a href="../cb_common/phpMyEdit_slide.html">		phpMyEdit_slide
		</a><br>
			<a href="../cb_common/smtp.html">		smtp
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
			<h1>Procedural File: cb_database.php</h1>
	<p style="margin: 0px;">Source Location: Program_Root/cb_database.php</p>
	
<br>
<br>

<div class="contents">
<h2>Classes:</h2>
<dl>
</dl>
</div>

<h2>Page Details:</h2>
<p align="center"><strong>Cannon BOSE's centralization of common database functions
</strong></p>
<p>Copyright (C) 2002 Michael Cannon &lt;michael@peimic.com&gt; See full GNU Lesser General Public License in LICENSE.</p>
<h4>Tags:</h4>
<ul>
	<li><b>version</b> - $Id: _common_cb_database_php.html,v 1.1.1.1 2010/04/15 09:55:56 peimic.comprock Exp $</li>
	<li><b>author</b> - Michael Cannon &lt;<a href="mailto:michael@peimic.com">michael@peimic.com</a>&gt;</li>
</ul><hr>
<hr>
<div id="global">
</div><hr>
<div id="define">
</div><hr>
<div id="function">
	<a name="functionmk_sql_between_date"></a>
	<h3>mk_sql_between_date</h3>
	<div class="indent">
		<code>mixed mk_sql_between_date(
string $attribute, string $search_date, [string $search_date2 = false])</code>
		<p class="linenumber">[line 27]</p>
		<p align="center"><strong>Create an SQL BETWEEN statement based upon $search_date and $search_date2
</strong></p>
<p>input. If no $search_date2, then ending period is determined by detail of $search_date. BETWEEN period comparison type is MySQL's YYYYMMHHMMSS timestamp.</p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - string/boolean false if unsuccesful</li>
	<li><b>see</b> - <a href="../cb_common/_common_cb_date_time_php.html#functionusertime2mysql">usertime2mysql()</a></li>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$attribute</b> 
			- 
			database table attribute being compared</li>
					<li>
			<span class="type">string</span>
			<b>$search_date</b> 
			- 
			begining timestamp</li>
					<li>
			<span class="type">string</span>
			<b>$search_date2</b> 
			- 
			ending timestamp</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionmk_sql_in"></a>
	<h3>mk_sql_in</h3>
	<div class="indent">
		<code>string mk_sql_in(
string $attribute, array $values, [boolean $not_in = false])</code>
		<p class="linenumber">[line 84]</p>
		<p align="center"><strong>Returns a string containing the WHERE clause portion of an SQL IN condition.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$attribute</b> 
			- 
			name of column</li>
					<li>
			<span class="type">array</span>
			<b>$values</b> 
			- 
			attribute values desired, must be of same type</li>
					<li>
			<span class="type">boolean</span>
			<b>$not_in</b> 
			- 
			NOT operand</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionmk_sql_select"></a>
	<h3>mk_sql_select</h3>
	<div class="indent">
		<code>string mk_sql_select(
string $select, string $from, [string $where = ''])</code>
		<p class="linenumber">[line 122]</p>
		<p align="center"><strong>Creates SELECT statement
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$select</b> 
			- 
			clause, ex: '*', 'id, name'</li>
					<li>
			<span class="type">string</span>
			<b>$from</b> 
			- 
			table(s), ex: 'Table'</li>
					<li>
			<span class="type">string</span>
			<b>$where</b> 
			- 
			clause, ex: 'id = 1', 'name = 'Frank' ORDER BY name  	ASC</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionmk_sql_where"></a>
	<h3>mk_sql_where</h3>
	<div class="indent">
		<code>string mk_sql_where(
array $array)</code>
		<p class="linenumber">[line 152]</p>
		<p align="center"><strong>Returns WHERE clause string based upon $array contents.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">array</span>
			<b>$array</b> 
			- 
			associative, ex: &quot;'account_id' =&gt; 282733&quot;</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionmquery_str2arr"></a>
	<h3>mquery_str2arr</h3>
	<div class="indent">
		<code>array mquery_str2arr(
string $mquery)</code>
		<p class="linenumber">[line 176]</p>
		<p align="center"><strong>Return array containing individual SQL queries as values.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$mquery</b> 
			- 
			</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionpws_db_connect"></a>
	<h3>pws_db_connect</h3>
	<div class="indent">
		<code>resource pws_db_connect(
)</code>
		<p class="linenumber">[line 248]</p>
		<p align="center"><strong>Returns phpWebSite database connetion.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionReportMySQLError"></a>
	<h3>ReportMySQLError</h3>
	<div class="indent">
		<code>void ReportMySQLError(
string $result, string &$box_content, string $identity, [mixed 
		$displayHere = false], boolean $displayHere)</code>
		<p class="linenumber">[line 210]</p>
		<p align="center"><strong>Reports MySQL Error
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$result</b> 
			- 
			returned from mysql_query</li>
					<li>
			<span class="type">string</span>
			<b>&$box_content</b> 
			- 
			place error description contents into here</li>
					<li>
			<span class="type">string</span>
			<b>$identity</b> 
			- 
			short op description</li>
					<li>
			<span class="type">boolean</span>
			<b>$displayHere</b> 
			- 
			the error report</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_affected_rows"></a>
	<h3>sql_affected_rows</h3>
	<div class="indent">
		<code>integer sql_affected_rows(
[Resource $stream = false])</code>
		<p class="linenumber">[line 273]</p>
		<p align="center"><strong>Returns integer of affected rows from last MySQL INSERT, UPDATE, DELETE, or REPLACE operation.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">Resource</span>
			<b>$stream</b> 
			- 
			</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_insert_id"></a>
	<h3>sql_insert_id</h3>
	<div class="indent">
		<code>mixed sql_insert_id(
[Resource $stream = false])</code>
		<p class="linenumber">[line 288]</p>
		<p align="center"><strong>Returns integer or false depending upon success of last MySQL INSERT.
</strong></p>

<h4>Tags:</h4>
<ul>
	<li><b>return</b> - integer false</li>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">Resource</span>
			<b>$stream</b> 
			- 
			</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_queries"></a>
	<h3>sql_queries</h3>
	<div class="indent">
		<code>boolean sql_queries(
string $queries, [mixed $database = ''], string $database,)</code>
		<p class="linenumber">[line 321]</p>
		<p align="center"><strong>MySQL query() wrapper for multiple queries as in a db dump.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$queries</b> 
			- 
			phpMyAdmin db dump</li>
					<li>
			<span class="type">string</span>
			<b>$database,</b> 
			- 
			ex: 'Chasm_Db'</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_query"></a>
	<h3>sql_query</h3>
	<div class="indent">
		<code>mixed sql_query(
mixed $query, [mixed $database = ''], string $query,, string $database,)</code>
		<p class="linenumber">[line 357]</p>
		<p align="center"><strong>MySQL query() wrapper.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$query,</b> 
			- 
			ex: &quot;SELECT * FROM Table&quot;</li>
					<li>
			<span class="type">string</span>
			<b>$database,</b> 
			- 
			ex: 'Chasm_Db'</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_query_object"></a>
	<h3>sql_query_object</h3>
	<div class="indent">
		<code>mixed sql_query_object(
mixed $query, [string $database = ''], string $query,)</code>
		<p class="linenumber">[line 383]</p>
		<p align="center"><strong>Returns single object pointing to the created query processed.
</strong></p>

<h4>Tags:</h4>
<ul>
	<li><b>return</b> - object/boolean false</li>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$query,</b> 
			- 
			ex: &quot;SELECT * FROM Table WHERE id='1'&quot;</li>
					<li>
			<span class="type">string</span>
			<b>$database</b> 
			- 
			being queried, ex: Chasm_db</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_result2array"></a>
	<h3>sql_result2array</h3>
	<div class="indent">
		<code>void sql_result2array(
Resource $result, [mixed $attributes = false])</code>
		<p class="linenumber">[line 415]</p>
		<p align="center"><strong>Creates array based upon $result if any. Frees MySQL resource if any.
</strong></p>
<p>Method line count could be reduced by restructuring, however efficiency would be lost. By check result, attribute, etc. counts or values first then performing do/while loops efficiency is O(n).</p>
<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">Resource</span>
			<b>$result</b> 
			- 
			database query result</li>
					<li>
			<span class="type">mixed</span>
			<b>$attributes</b> 
			- 
			array/boolean/string  table attribute desired,   	ex: false (single attribute 2D array or all attribute 3D array)  	true (all attributes 3D array),   	'id' (single attribute 2D array),   	array('id', 'name') (3D array),   return array</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_result2csv"></a>
	<h3>sql_result2csv</h3>
	<div class="indent">
		<code>string sql_result2csv(
mixed $result, [mixed $headers = false], [string $separator = ','])</code>
		<p class="linenumber">[line 528]</p>
		<p align="center"><strong>Convert SQL $result to CSV output separated by $separator.
</strong></p>
<p>If different column names are desired than &quot;cleaned&quot; versions of $from attributes, then use $headers. $separator allows for TSV and other output styles.</p>
<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">mixed</span>
			<b>$headers</b> 
			- 
			string/array/boolean  data column headings, ex:  	'First Name, Birth Date', array('First Name', 'Birth Date'), false  	(returns data only)</li>
					<li>
			<span class="type">string</span>
			<b>$separator</b> 
			- 
			data separation method, ex: ',', '|', &quot;\t&quot;</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_result2csv_header"></a>
	<h3>sql_result2csv_header</h3>
	<div class="indent">
		<code>string sql_result2csv_header(
resource $result)</code>
		<p class="linenumber">[line 594]</p>
		<p align="center"><strong>Converts SQL result to CSV header string by returning only attribute names.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">resource</span>
			<b>$result</b> 
			- 
			of query</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_result_field_names"></a>
	<h3>sql_result_field_names</h3>
	<div class="indent">
		<code>array sql_result_field_names(
resource $result)</code>
		<p class="linenumber">[line 615]</p>
		<p align="center"><strong>Returns array of $result's field names.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">resource</span>
			<b>$result</b> 
			- 
			of query</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_select"></a>
	<h3>sql_select</h3>
	<div class="indent">
		<code>ResouceID sql_select(
string $select, string $from, [string $where = ''], [string $database = ''])</code>
		<p class="linenumber">[line 643]</p>
		<p align="center"><strong>Returns ResourceID pointing to the SELECT query processed
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$select</b> 
			- 
			clause, ex: '*', 'id, name'</li>
					<li>
			<span class="type">string</span>
			<b>$from</b> 
			- 
			table(s), ex: 'Table'</li>
					<li>
			<span class="type">string</span>
			<b>$where</b> 
			- 
			clause, ex: 'id = 1', 'name = 'Frank' ORDER BY name  	ASC</li>
					<li>
			<span class="type">string</span>
			<b>$database</b> 
			- 
			being queried, ex: Chasm_db</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_select_object"></a>
	<h3>sql_select_object</h3>
	<div class="indent">
		<code>mixed sql_select_object(
string $select, string $from, [string $where = ''], [string $database = ''])</code>
		<p class="linenumber">[line 662]</p>
		<p align="center"><strong>Returns single object pointing to the created query processed.
</strong></p>

<h4>Tags:</h4>
<ul>
	<li><b>return</b> - object/boolean false</li>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$select</b> 
			- 
			clause, ex: '*', 'id, name'</li>
					<li>
			<span class="type">string</span>
			<b>$from</b> 
			- 
			table(s), ex: 'Table'</li>
					<li>
			<span class="type">string</span>
			<b>$where</b> 
			- 
			clause, ex: 'id = 1', 'name = 'Frank' ORDER BY name  	ASC</li>
					<li>
			<span class="type">string</span>
			<b>$database</b> 
			- 
			being queried, ex: Chasm_db</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="functionsql_sequence"></a>
	<h3>sql_sequence</h3>
	<div class="indent">
		<code>integer sql_sequence(
string $table)</code>
		<p class="linenumber">[line 677]</p>
		<p align="center"><strong>Returns an integer of an unique sequence id.
</strong></p>

<h4>Tags:</h4>
<ul>
</ul>		
		<h4>Parameters</h4>
		<ul>
					<li>
			<span class="type">string</span>
			<b>$table</b> 
			- 
			sequence table</li>
				</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
</div>
	<div id="credit">
		<hr>
		Documention generated on Thu,  6 Mar 2003 08:28:38 -0700 by <a href="http://www.phpdoc.org">phpDocumentor 1.2.0rc1</a>
	</div>
</div>
</body>
</html>